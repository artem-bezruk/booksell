<mat-progress-bar *ngIf="isLoading | async" [color]="'primary'" [mode]="'indeterminate'"></mat-progress-bar>
<mat-sidenav-container class="book-list-container" fxFlex>
    <mat-sidenav #filter mode="side" style="position: fixed; padding-top: 68px">
        <app-list-filter fxFlex style="padding: 20px" [data]="searchResult"
                         [groups]="group | async"
                         [groupByEditors]="groupByEditors"
                         (filter)="onFilter($event)"></app-list-filter>
    </mat-sidenav>
    <mat-sidenav-content>
        <div fxFlex="80" fxFlexOffset="10">
            <app-book-list-action-bar (filter)="filter.toggle()"
                                      (changeSortOrder)="changeSortOrder()"
                                      (changeDisplay)="changeDisplay($event)"
                                      [groupByEditors]="groupByEditors"
                                      [isSortOrderAsc]="isSortOrderAsc()">
            </app-book-list-action-bar>
            <app-group-display (showBookDetails)="showDetails($event, group)"
                               *ngFor="let group of filteredGroupList | async"
                               [seriesContainer]="(filteredBooks|async)[group]"
                               [editor]="group">
            </app-group-display>
        </div>
    </mat-sidenav-content>
    <mat-sidenav mode="over" class="right-side-nav" (closedStart)="clearBookToDisplay()"
                 [opened]="bookToDisplay && bookToDisplay.book !== null" position="end">
        <app-book-details [bookEvent]="bookToDisplay" (updateBookDetails)="showDetails($event)" fxFlex></app-book-details>
    </mat-sidenav>
</mat-sidenav-container>
